alias icecc-check="icecream-sundae -s $_icecc_cloud"

function venv()
{
    #activate if exist otherwise create it 
    if [ -d "./.venv" ]; then
        source ./.venv/bin/activate
    else
        python3 -m venv ./.venv || (echo "Failed to create virtual environment" && return 1);
    fi
}

mongo-free-memory()
{	
	rm -rf /tmp/* 
	rm -rf ~/mongo*/dump*
}

## Utility python ####
#redifining cd to automatically activate python inside .venv
cd ()
{
	builtin cd $@

	# Check there is no virtual environment activated.
	if [[ -z ${VIRTUAL_ENV} ]]; then
		# If the .venv directory is found then activate the virtual
		# environment.
        if [ -d "./.venv" ]; then
            source ./.venv/bin/activate
        fi
	else
		# If the current directory does not belong to earlier VIRTUAL_ENV
		# directory then deactivate the virtual environment.
		PARENT_DIR=$(dirname ${VIRTUAL_ENV})
		if [[ ${PWD}/ != ${PARENT_DIR}/* ]]; then
			deactivate
		fi
	fi
}

